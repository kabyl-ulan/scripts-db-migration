# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∏—Å—Ç–µ–º–µ –º–∏–≥—Ä–∞—Ü–∏–π

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å PostgreSQL –º–∏–≥—Ä–∞—Ü–∏—è–º–∏.

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

### üìñ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º (MIGRATION_GUIDE.md)](./MIGRATION_GUIDE.md)

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –≤–∫–ª—é—á–∞—é—â–µ–µ:

- **–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã** - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π
- **–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –ø–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
- **SQL Preprocessor** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `IF NOT EXISTS/IF EXISTS`
- **–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π** - –ø—Ä–∞–≤–∏–ª–∞ –∏ best practices
- **–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π** - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã CLI —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **Troubleshooting** - —Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** - —á—Ç–æ –¥–µ–ª–∞—Ç—å –∏ —á–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å

### üìù [–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ (EXAMPLES.md)](./EXAMPLES.md)

–ö–æ–ª–ª–µ–∫—Ü–∏—è –≥–æ—Ç–æ–≤—ã—Ö SQL –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (–ø—Ä–æ—Å—Ç—ã–µ, —Å FK, many-to-many)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- –†–∞–±–æ—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ (–æ–±—ã—á–Ω—ã–µ, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ, —Å–æ—Å—Ç–∞–≤–Ω—ã–µ, —á–∞—Å—Ç–∏—á–Ω—ã–µ)
- Constraints (UNIQUE, CHECK, FOREIGN KEY)

#### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏
- –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã (updated_at, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∞—É–¥–∏—Ç)
- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)
- JSON/JSONB –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (tsvector)
- –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- Views –∏ materialized views
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL

#### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å –ª–∞–π–∫–∞–º–∏
- Soft delete
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
npx ts-node tools/db-migrate/cli.ts status

# 2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npx ts-node tools/db-migrate/cli.ts create "–æ–ø–∏—Å–∞–Ω–∏–µ"

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx ts-node tools/db-migrate/cli.ts migrate
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ](../README.md)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](../CLAUDE.md)
- [–ü–∞–ø–∫–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏](../migrations/)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î](../config/databases.js)

---

**–°–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å [MIGRATION_GUIDE.md](./MIGRATION_GUIDE.md) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—Å–Ω–æ–≤, –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [EXAMPLES.md](./EXAMPLES.md) –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π.
