import{r as l,u as F,v as N,j as e,e as u,F as C}from"./index.dc8861ba.js";import{S as k,E as A,g as v}from"./index.81aee1d4.js";import{C as i}from"./index.2ee5d23d.js";import{T as j}from"./Table.fb1d6459.js";import"./index.aff3ea0a.js";import"./index.183fa59f.js";import"./useForm.40722572.js";import"./EllipsisOutlined.5194278a.js";import"./index.3d0341d4.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,r){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,r),r)}};const q=()=>{const[a,r]=l.exports.useState([]),{t:n}=F("tables"),[x,c]=l.exports.useState(!1),[g,d]=l.exports.useState(null),[m,h]=l.exports.useState(!1),s=N(),b=async()=>{c(!0);try{const t=await v();if(t&&!t.error&&t.data){const o=t.data.map((_,w)=>({..._,key:String(_.id_country),number:w+1}));r(o)}else s.openNotification({message:(t==null?void 0:t.message)||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445",type:"error"})}catch{s.openNotification({message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0441\u043F\u0438\u0441\u043A\u0430 \u0441\u0442\u0440\u0430\u043D",type:"error"})}finally{c(!1)}};l.exports.useEffect(()=>{b()},[]);const f=[{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:"\u2116"}),dataIndex:"number",width:60,align:"center",fixed:"left",render:t=>e("span",{className:"text-gray-800 text-sm",children:t})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:"\u0421\u0442\u0440\u0430\u043D\u0430"}),dataIndex:"country",width:180,fixed:"left",render:t=>e("span",{className:"text-gray-800 text-sm font-medium",children:t})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:"Country"}),dataIndex:"country_en",width:180,render:t=>e("span",{className:"text-gray-800 text-sm",children:t})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:n("tables.agreement")}),dataIndex:"agreement",width:120,align:"center",render:t=>e(i,{checked:t,disabled:!0})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:n("tables.yearOfAgreement")}),dataIndex:"agreement_year",width:130,align:"center",render:t=>e("span",{className:"text-gray-800 text-sm",children:t||"-"})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:n("tables.farAbroad")}),dataIndex:"far_abroad",width:160,align:"center",render:t=>e(i,{checked:t,disabled:!0})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:n("tables.nearAbroad")}),dataIndex:"near_abroad",width:160,align:"center",render:t=>e(i,{checked:t,disabled:!0})},{title:e("h2",{className:"text-gray-600 text-xs font-semibold",children:n("tables.action")}),width:100,align:"center",fixed:"right",render:(t,o)=>e("button",{className:"text-green hover:text-green border-none bg-transparent cursor-pointer p-1 inline-flex items-center justify-center transition-colors",onClick:()=>{d(o),h(!0)},children:e(k,{className:"w-5 h-5"})})}],y=()=>{h(!1),d(null)},p=()=>{b()};return u(C,{children:[s.contextHolder,e(A,{country:g,open:m,onClose:y,onSuccess:p}),u("div",{className:"bg-white rounded-lg shadow-sm",children:[e("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:e("h1",{className:"text-xl font-semibold text-gray-800",children:n("sidebar:sideBar.countries")})}),e("div",{className:"p-6",children:e(j,{columns:f,dataSource:a,loading:x,pagination:!1,scroll:{y:"calc(100vh)"},bordered:!1,size:"small",className:"[&_.ant-table]:text-[13px] [&_.ant-table-thead_>_tr_>_th]:!bg-[#F5F6F8] [&_.ant-table-thead_>_tr_>_th]:!text-gray-500 [&_.ant-table-thead_>_tr_>_th]:!font-semibold [&_.ant-table-thead_>_tr_>_th]:!border-0 [&_.ant-table-thead_>_tr_>_th]:!py-5 [&_.ant-table-thead_>_tr_>_th]:!px-4 [&_.ant-table-thead_>_tr_>_th]:!text-xs [&_.ant-table-tbody_>_tr_>_td]:!px-4 [&_.ant-table-tbody_>_tr_>_td]:!border-0 [&_.ant-table-tbody_>_tr_>_td]:!text-gray-700 [&_.ant-table-tbody_>_tr:nth-child(odd)_>_td]:!bg-[#F5F6F8] [&_.ant-table-tbody_>_tr:nth-child(even)_>_td]:!bg-white [&_.ant-table-tbody_>_tr:hover_>_td]:!bg-gray-50 [&_.ant-table-cell-fix-left]:!bg-inherit [&_.ant-table-cell-fix-right]:!bg-inherit [&_.ant-table-thead_.ant-table-cell-fix-left]:!bg-[#F5F6F8] [&_.ant-table-thead_.ant-table-cell-fix-right]:!bg-[#F5F6F8] [&_.ant-table-tbody_>_tr:nth-child(odd)_.ant-table-cell-fix-left]:!bg-[#F5F6F8] [&_.ant-table-tbody_>_tr:nth-child(even)_.ant-table-cell-fix-left]:!bg-white [&_.ant-table-tbody_>_tr:nth-child(odd)_.ant-table-cell-fix-right]:!bg-[#F5F6F8] [&_.ant-table-tbody_>_tr:nth-child(even)_.ant-table-cell-fix-right]:!bg-white [&_.ant-table-tbody_>_tr:hover_.ant-table-cell-fix-left]:!bg-gray-50 [&_.ant-table-tbody_>_tr:hover_.ant-table-cell-fix-right]:!bg-gray-50 [&_.ant-table-body]:[scrollbar-width:none] [&_.ant-table-body]:[-ms-overflow-style:none] [&_.ant-table-body::-webkit-scrollbar]:[display:none] [&_.ant-checkbox-wrapper]:pointer-events-none [&_.ant-checkbox-disabled_.ant-checkbox-inner]:!bg-gray-200 [&_.ant-checkbox-disabled_.ant-checkbox-inner]:!border-gray-300 [&_.ant-checkbox-checked_.ant-checkbox-inner]:!bg-gray-400 [&_.ant-checkbox-checked_.ant-checkbox-inner]:!border-gray-400"})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,r){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,r),r)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(a,r){return this.cache.has(a)?this.cache.get(a):(this.cache.set(a,r),r)}};export{q as CountriesPage};
