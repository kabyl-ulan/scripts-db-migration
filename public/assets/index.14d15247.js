import{p as C,e as s,j as t,L as w,f as y,bW as j,r as c,u as E,N as F,bL as T}from"./index.dc8861ba.js";import{g as D}from"./api.46ac445f.js";import{g as S}from"./api.39a99445.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};const U=({faculty:e})=>(C(),s("tr",{className:"border-b border-gray-300",children:[t("td",{className:"px-4 py-2",children:e.cipher}),s("td",{className:"px-4 py-2",children:[t("div",{className:"font-semibold",children:e.direction}),s("div",{className:"text-xs",children:["\u0421\u043F\u0435\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u044C: ",t("span",{className:"font-bold",children:e.specialty})]}),s("div",{className:"text-xs",children:["\u0424\u043E\u0440\u043C\u0430 \u043E\u0431\u0443\u0447\u0435\u043D\u0438\u044F: ",t("span",{className:"font-bold",children:e.learning})]}),s("div",{className:"text-xs",children:["\u0424\u043E\u0440\u043C\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044F: ",t("span",{className:"font-bold",children:e.control_type})]})]}),t("td",{className:"px-4 py-2",children:e.bk}),t("td",{className:"px-4 py-2",children:e.el}),t("td",{className:"px-4 py-2",children:e.smeta_education}),t("td",{className:"px-4 py-2",children:e.plan}),t("td",{className:"px-4 py-2",children:e.kol}),t("td",{className:"px-4 py-2",children:t(w,{to:e.id_fac?y.contacts(e.id_fac):"#",className:"bg-gradient-to-r from-blue-800 to-blue-600 text-white px-4 py-2 rounded-lg font-semibold inline-block text-center",children:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C\u0441\u044F"})})]}));globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};const _=()=>{const{id_university:e}=j(),[a,x]=c.exports.useState([]),[r,b]=c.exports.useState("all"),[u,f]=c.exports.useState(null),[N,o]=c.exports.useState(!0),[d,v]=c.exports.useState(null),[i]=E();c.exports.useEffect(()=>{!e||(o(!0),Promise.all([D(e),S()]).then(([l,h])=>{var g;x(l);const n=(g=h==null?void 0:h.data)==null?void 0:g.find(A=>String(A.id_univ)===e);f(n)}).catch(()=>v("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445")).finally(()=>o(!1)))},[e]);const p=c.exports.useMemo(()=>{const l=a.map(n=>String(n.el).trim()).filter(Boolean),h=Array.from(new Set(l));return[{value:"all",label:i("site:MainPageAllUniversities.AllDirections")},...h.map(n=>({value:n,label:n}))]},[a,i]),m=c.exports.useMemo(()=>r==="all"?a:a.filter(l=>String(l.el).trim()===r),[a,r]);return N?t("div",{children:i("loading")}):d?t("div",{children:d}):s("div",{children:[t("div",{className:"bg-[url('/assets/background_main.svg')] bg-cover bg-no-repeat bg-[100%_100%] min-h-[40vh] pt-20 flex justify-center",children:s("div",{className:"w-full max-w-[1440px] mx-5",children:[s("p",{className:"font-roboto font-normal text-white text-[13px] mt-10",children:[t(F,{to:"/",className:"text-[#EF7F1A] underline mr-2.5",children:i("site:navbar.home")}),s("span",{className:"text-white",children:["/ ",u?u.university:i("site:navbar.openData")]})]}),t("h1",{className:"font-montserrat font-semibold text-[28px] text-white mt-10 animationScroll",children:u?u.university:i("site:navbar.openData")}),s("div",{className:"flex flex-wrap gap-6 text-white mt-6",children:[s("span",{children:[i("site:card.rector"),": ",u==null?void 0:u.supervisor]}),s("span",{children:[i("site:card.address"),": ",u==null?void 0:u.address]}),s("span",{children:[i("site:card.site"),":"," ",(u==null?void 0:u.url)&&t("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"underline text-white",children:u.url})]}),t("span",{children:i("site:aboutUniversities.komissia")})]})]})}),t("div",{className:"p-6",children:s("div",{className:"p-6 bg-white rounded-lg mt-8",children:[s("div",{className:"flex justify-between items-center mb-6",children:[t("h2",{className:"text-2xl font-semibold",children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0444\u0430\u043A\u0443\u043B\u044C\u0442\u0435\u0442\u043E\u0432"}),p.length>1&&s("div",{className:"flex items-center gap-2",children:[s("span",{className:"text-sm font-medium text-gray-700",children:[i("site:applications.educationLanguage"),":"]}),t(T,{value:r,onChange:l=>b(l),options:p,className:"w-48"})]})]}),m.length===0?t("div",{className:"text-center text-blue-700 text-xl font-bold mt-8",children:r==="all"?"\u041D\u0435\u0442 \u0444\u0430\u043A\u0443\u043B\u044C\u0442\u0435\u0442\u043E\u0432 \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u0443\u043D\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430.":`\u041D\u0435\u0442 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0435\u0439 \u0441 \u044F\u0437\u044B\u043A\u043E\u043C \u043E\u0431\u0443\u0447\u0435\u043D\u0438\u044F ${r}.`}):t("div",{className:"overflow-x-auto bg-white rounded-lg",children:s("table",{className:"min-w-full border-separate border-spacing-y-2",children:[t("thead",{children:s("tr",{className:"bg-gray-100 text-gray-700 text-sm",children:[t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.cipher")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.speciality")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.typeBuy")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.el")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.summa")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.plan")}),t("th",{className:"px-4 py-2 text-left",children:i("site:aboutUniversities.quantity")}),t("th",{className:"px-4 py-2"})]})}),t("tbody",{children:m.map(l=>t(U,{faculty:l},l.cipher))})]})},r)]})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,a){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,a),a)}};export{_ as FacultiesPage};
